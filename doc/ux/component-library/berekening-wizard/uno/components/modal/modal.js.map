{"version":3,"file":"modal.js","sourceRoot":"","sources":["../../../../../../../src/components/modal/modal.ts"],"names":["Modal","Modal.constructor","Modal.onKeyDown","Modal.open","Modal.close","Modal.destroy","Modal.resize","Modal.onClose","Modal.onResize","Modal.setAria","Modal.setFocus"],"mappings":"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","sourcesContent":["import {Utils} from './../../core/utils';\r\nconst RESIZE_TIMEOUT:number = 200;\r\n\r\n/**\r\n * @class Modal\r\n * Creates a modal window which can be opened / closed using javascript\r\n * Example:\r\n * <code>\r\n *     <div class=\"modal\" role=\"dialog\">\r\n *          <section class=\"modal__content\">\r\n *              <header class=\"modal__title\">\r\n *                  <a href=\"#\" class=\"modal__close-button\">\r\n *                      <i class=\"icon icon-cross\"></i><span>Sluit</span>\r\n *                  </a>\r\n *                  <h1>Titel van modal</h1>\r\n *              </header>\r\n *\r\n *              <div class=\"modal__body\">\r\n *                  <p>Ut quis congue sapien. Proin maximus augue molestie.</p>\r\n *              </div>\r\n *\r\n *              <footer class=\"modal__footer\">\r\n *                  <button class=\"btn btn--primary\">Bevestig</button>\r\n *              </footer>\r\n *          </section>\r\n *      </div>\r\n *      <script>\r\n *          System.import('/uno/components/modal/modal.js').then(function (module) {\r\n *              var el = document.querySelector('.modal'),\r\n *                  modal = new module.Modal(el);\r\n *\r\n *              modal.open();\r\n *          });\r\n *      </script>\r\n * </code>\r\n */\r\nexport class Modal{\r\n\r\n    private resizeTimeout:number;\r\n    private previousFocus:Element;\r\n    private focusableElementsString:string = `\r\n        a[href],\r\n        area[href],\r\n        input:not([disabled]),\r\n        select:not([disabled]),\r\n        textarea:not([disabled]),\r\n        button:not([disabled]),\r\n        iframe,\r\n        object,\r\n        embed,\r\n        *[tabindex],\r\n        *[contenteditable]`;\r\n\r\n    private closeListener:EventListenerObject;\r\n    private keyDownListener:EventListenerObject;\r\n    private resizeListener:EventListenerObject;\r\n\r\n    constructor(private element:HTMLElement) {\r\n        this.closeListener = this.onClose.bind(this);\r\n        this.keyDownListener = this.onKeyDown.bind(this);\r\n        this.resizeListener = this.onResize.bind(this);\r\n        element.setAttribute('tabindex', '-1');\r\n        if (element.querySelector('.modal__close-button')) {\r\n            element.querySelector('.modal__close-button').addEventListener('click', this.closeListener);\r\n        }\r\n\r\n        element.addEventListener('keydown', this.keyDownListener);\r\n\r\n        window.addEventListener('resize', this.resizeListener);\r\n\r\n        this.setAria();\r\n    }\r\n\r\n    private  onKeyDown(event:KeyboardEvent):void {\r\n        // if escape pressed\r\n        if (Utils.IsKeyPressed(event, 'Escape')) {\r\n            event.preventDefault();\r\n            this.close();\r\n        } else\r\n        // if tab or shift-tab pressed\r\n        if (Utils.IsKeyPressed(event, 'Tab')) {\r\n            // get list of focusable items\r\n            let focusableItems:Array<HTMLElement>;\r\n            // convert Nodelist to Array using array prototype\r\n            focusableItems = Array.prototype.slice.call(this.element.querySelectorAll(this.focusableElementsString), 0);\r\n\r\n            // sort according to tabindex\r\n            focusableItems.sort(function(a:HTMLElement, b:HTMLElement):number {\r\n                let aInd:String = a.getAttribute('tabindex');\r\n                let bInd:String = b.getAttribute('tabindex');\r\n                if (aInd > bInd) {\r\n                    return 1;\r\n                } else if (aInd < bInd) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            });\r\n\r\n            // get currently focused item\r\n            let focusedItem:HTMLElement;\r\n            focusedItem = document.querySelector(':focus') as HTMLElement;\r\n\r\n            // get the number of focusable items\r\n            let numberOfFocusableItems:number;\r\n            numberOfFocusableItems = focusableItems.length;\r\n\r\n            // get the index of the currently focused item but make sure to always return >= 0\r\n            let focusedItemIndex:number = Math.max(Array.prototype.indexOf.call(focusableItems, focusedItem), 0);\r\n\r\n            if (event.shiftKey) {\r\n                // back tab\r\n                // if focused on first item and user preses back-tab, go to the last focusable item\r\n                if (focusedItemIndex === 0) {\r\n                    focusableItems[numberOfFocusableItems - 1].focus();\r\n                    event.preventDefault();\r\n                }else {\r\n                    focusableItems[focusedItemIndex - 1].focus();\r\n                    event.preventDefault();\r\n                }\r\n\r\n            } else {\r\n                // forward tab\r\n                // if focused on the last item and user preses tab, go to the first focusable item\r\n                if (focusedItemIndex === numberOfFocusableItems - 1) {\r\n                    focusableItems[0].focus();\r\n                    event.preventDefault();\r\n                }else{\r\n                    focusableItems[focusedItemIndex + 1].focus();\r\n                    event.preventDefault();\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Opens the modal, sets correct aria-attributes\r\n     */\r\n    public open():void {\r\n        this.previousFocus = document.activeElement;\r\n\r\n        this.element.classList.add('modal--open');\r\n        this.resize();\r\n        this.setFocus();\r\n    }\r\n\r\n    /**\r\n     * Closes the modal, restores focus\r\n     */\r\n    public close():void {\r\n        this.element.classList.remove('modal--open');\r\n\r\n        if (this.previousFocus) {\r\n            // Restore focus\r\n            (this.previousFocus as HTMLElement).focus();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Performs housekeeping for correct garbage collection\r\n     */\r\n    public destroy():void {\r\n\r\n        clearTimeout(this.resizeTimeout);\r\n        if (this.element.querySelector('.modal__close-button')) {\r\n            this.element.querySelector('.modal__close-button').removeEventListener('click', this.closeListener);\r\n        }\r\n        this.element.removeEventListener('keydown', this.keyDownListener);\r\n\r\n        window.removeEventListener('resize', this.resizeListener);\r\n\r\n    }\r\n\r\n    /**\r\n     * Resizes the body of the modal to the maximum available width. This is only\r\n     * done when the body height exceeds the height of the modal, which only\r\n     * occurs in IE <= 11.\r\n     */\r\n    public resize():void {\r\n        let body:HTMLElement = this.element.querySelector('.modal__body') as HTMLElement,\r\n            title:Element = this.element.querySelector('.modal__title'),\r\n            footer:Element = this.element.querySelector('.modal__footer'),\r\n            styles:CSSStyleDeclaration;\r\n\r\n        body.style.maxHeight = '100%';\r\n\r\n        styles = getComputedStyle(this.element.querySelector('.modal__content'));\r\n        let modalHeight:number = parseInt(styles.height),\r\n            bodyHeight:number = parseInt(getComputedStyle(body).height);\r\n\r\n        // This is only needed for IE, which doesn't follow the flexbox spec\r\n        // correctly and will not resize the body container.\r\n        if (bodyHeight > modalHeight) {\r\n            // IE\r\n            let maxHeight:number = modalHeight\r\n                - parseInt(styles.paddingTop)\r\n                - parseInt(styles.paddingBottom)\r\n                - parseInt(getComputedStyle(body).marginTop)\r\n                - parseInt(getComputedStyle(body).marginBottom)\r\n                - 10; // Don't know where these 10px come from\r\n\r\n            if (title) {\r\n                maxHeight -= Utils.CalculateElementHeight(title);\r\n            }\r\n            if (footer){\r\n                maxHeight -= Utils.CalculateElementHeight(footer);\r\n            }\r\n\r\n            body.style.maxHeight = maxHeight + 'px';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Event handler for the close button\r\n     * @param event\r\n     */\r\n    private onClose(event:MouseEvent):void {\r\n        event.preventDefault();\r\n        this.close();\r\n    }\r\n\r\n    private onResize():void {\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(this.resize.bind(this), RESIZE_TIMEOUT);\r\n    }\r\n\r\n    /**\r\n     * Sets the ARIA attributes for better accessibility\r\n     */\r\n    private setAria():void {\r\n        this.element.setAttribute('role', 'dialog');\r\n        let title:HTMLElement = this.element.querySelector('.modal__title h1') as HTMLElement;\r\n\r\n        if (title) {\r\n            if (!title.hasAttribute('id')) {\r\n                // Generate unique id\r\n                title.setAttribute('id', Utils.GenerateUID());\r\n            }\r\n\r\n            this.element.setAttribute('aria-labelledby', title.getAttribute('id'));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the focus to the first focusable element. If the modal contains a\r\n     * form, it will be the first field in the form, otherwise, it will be the\r\n     * primary button (if available), or the first button found. If no buttons\r\n     * are present, the close button will receive focus.\r\n     */\r\n    private setFocus():void {\r\n        let target:HTMLElement,\r\n            selectors:Array<string> = [\r\n            // First, check for form elements\r\n            '.modal__body input, .modal__body textarea',\r\n            // Next, check for primary buttons\r\n            '.btn--primary',\r\n            // Next, check for arbitrary buttons\r\n            '.btn',\r\n            // Finally, select the close button\r\n            '.modal__close-button'\r\n        ];\r\n\r\n        for (let selector of selectors) {\r\n            target = this.element.querySelector(selector) as HTMLElement;\r\n            if (target) {\r\n                target.focus();\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n"]}