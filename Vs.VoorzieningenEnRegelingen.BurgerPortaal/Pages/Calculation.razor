@page "/proefberekening"
@using Vs.VoorzieningenEnRegelingen.Core
@*<Header Text="Virtual Society" Title="Virtual Society Calculation" LinkScreenReaderDescription="naar de homepage" />*@

<TitleBar Title="Bereken uw zorgtoeslag" />

<Collapsable Name="Timeline">
    <Title>
        @if (_displayQuestionNumber > 0)
        {
            <Badge Number=@_displayQuestionNumber />
        }
        @_displayQuestion
    </Title>
    <CollapsableContent>
        <h2><strong>@_displayQuestionTitle</strong></h2>
        <p>@_displayQuestionDescription</p>
        @*<Timeline IndicateEnds="true" Items="_timelineItems" />*@
    </CollapsableContent>
</Collapsable>

<Form>
    @if (_hasRights && _formElement != null)
    {
        @switch (_formElement.InferedType)
        {
            case TypeInference.InferenceResult.TypeEnum.Double:
                <Number Name="@_formElement.Name"
                        Label="@_formElement.Label"
                        @bind-Value="@_formElement.Value"
                        Size="@FormElementSize.Large"
                        TagText="@_formElement.TagText"
                        HintText="@_formElement.HintText"
                        IsValid="_formElement.IsValid"
                        ErrorText="@_formElement.ErrorText" />

                break;
            case TypeInference.InferenceResult.TypeEnum.TimeSpan:
                break;
            case TypeInference.InferenceResult.TypeEnum.DateTime:
                break;
            case TypeInference.InferenceResult.TypeEnum.String:
                break;
            case TypeInference.InferenceResult.TypeEnum.Boolean:
                <Radio Name="@_formElement.Name"
                       Label="@_formElement.Label"
                       @bind-Value="@_formElement.Value"
                       Size="@FormElementSize.Large"
                       Options="@_formElement.Options"
                       TagText="@_formElement.TagText"
                       HintText="@_formElement.HintText"
                       IsValid="@_formElement.IsValid"
                       ErrorText="@_formElement.ErrorText" />
                break;
            case TypeInference.InferenceResult.TypeEnum.List:
                {
                    <Select Name="@_formElement.Name"
                            Label="@_formElement.Label"
                            @bind-Value="@_formElement.Value"
                            Size="@FormElementSize.Large"
                            Options="@_formElement.Options"
                            TagText="@_formElement.TagText"
                            HintText="@_formElement.HintText"
                            IsValid="@_formElement.IsValid"
                            ErrorText="@_formElement.ErrorText" />
                }
                break;
        }
    }
    @if (!_hasRights)
    {
        <p>De berekening is afgelopen. U kunt eventueel naar een vorige pagina gaan om een antwoord aan te passen.</p>
    }
    <Pagination NextDisabled="@(!_hasRights)" Next="@GetNextStep" NextText="Volgende" PreviousDisabled="@(_sequenceController.CurrentStep <= 1)" Previous="GetPreviousStep" PreviousText="Vorige" ScreenreaderDescription="pagina" />
</Form>